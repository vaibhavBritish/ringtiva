generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

enum UserType {
  ADVERTISER
  AFFILIATE
}

model User {
  id        String    @id @default(auto()) @map("_id") @db.ObjectId
  username  String    @unique
  email     String    @unique
  password  String
  isAdmin   Boolean   @default(false)
  userType  UserType?
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt

  leads Lead[]
}

model Blogs {
  id          String   @id @default(auto()) @map("_id") @db.ObjectId
  title       String
  description String
  content     String
  slug        String   @unique
  image       String?
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model Lead {
  id String @id @default(auto()) @map("_id") @db.ObjectId

  userId String @db.ObjectId
  user   User   @relation(fields: [userId], references: [id])

  countryRegion                  String
  stateProvince                  String
  city                           String
  postalCode                     String
  category                       String
  subCategory                    String
  fullName                       String
  offerType                      String
  payouts                        Float
  isMerchantAllowedToRefuseLeads Boolean
  leadsLimit                     Int
  materialModeration             String
  tools                          String?
  imageUrl                       String?

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}
